<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SIPAMO — Simplicité. Identité.</title>
  
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Jost:wght@300;400;500;600&display=swap" rel="stylesheet">

  <style>
    :root {
      --font-main: 'Jost', Futura, -apple-system, sans-serif;
      --color-black: #1a1a1a;
      --color-grey: #666666;
      --color-bg-light: #f4f4f4;
      --radius-pill: 50px;
    }

    * { box-sizing: border-box; }

    body {
      margin: 0; padding: 0;
      font-family: var(--font-main);
      color: var(--color-black);
      background: #fff;
      -webkit-font-smoothing: antialiased;
      overflow-x: hidden;
    }

    /* --- HEADER --- */
    header {
      display: flex; justify-content: space-between; align-items: center;
      padding: 16px 20px; position: sticky; top: 0;
      background: rgba(255, 255, 255, 0.95); 
      border-bottom: 1px solid #eee; 
      z-index: 100;
    }
    .logo { 
      font-weight: 500; font-size: 24px; letter-spacing: 3px; text-transform: uppercase; cursor: pointer;
    }
    .menu-trigger-btn { 
      background: none; border: none; padding: 0; cursor: pointer; color: inherit; display: flex; align-items: center; 
    }

    /* --- LAYOUT --- */
    .container { max-width: 900px; margin: 0 auto; padding: 0 20px 60px; }
    
    .hero-brand {
      text-align: center;
      padding: 60px 20px;
      margin-bottom: 40px;
      border-bottom: 1px solid #000;
    }
    .hero-brand h1 {
      font-size: 42px; font-weight: 300; margin: 0 0 20px 0; letter-spacing: -1px;
    }
    .hero-brand p {
      font-size: 18px; line-height: 1.6; color: #444; max-width: 600px; margin: 0 auto; font-weight: 300;
    }

    /* PHILOSOPHIE */
    .philosophy-list {
      display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 0; border: 1px solid #eee;
    }
    .philosophy-item {
      padding: 20px; border: 1px solid #eee; text-align: center;
      transition: background 0.3s;
    }
    .philosophy-item:hover { background: #fafafa; }
    .philosophy-item strong { display: block; margin-bottom: 5px; font-size: 14px; text-transform: uppercase; letter-spacing: 1px; }

    /* TITRES */
    h2 { font-size: 22px; font-weight: 400; text-transform: uppercase; letter-spacing: 2px; margin-bottom: 30px; margin-top: 60px; padding-left: 10px; border-left: 3px solid #000; }
    
    /* BOUTONS */
    .btn-pill { 
      display: flex; align-items: center; justify-content: center; width: 100%; height: 50px; 
      border: 1px solid #000; border-radius: 0;
      background: #fff; color: #000; 
      text-decoration: none; font-size: 13px; font-weight: 500; text-transform: uppercase;
      margin-bottom: 12px; transition: 0.2s; cursor: pointer;
    }
    .btn-pill:hover { background: #000; color: #fff; }
    
    /* INPUTS */
    input, select, textarea {
      width: 100%; padding: 16px; border: 1px solid #ddd;
      background: #fff; font-family: inherit; margin-bottom: 12px; font-size: 14px;
      border-radius: 0;
    }
    input:focus, textarea:focus { outline: none; border-color: #000; background: #fafafa; }

    /* --- CARTE PRODUIT --- */
    .product-grid-display {
      display: grid; grid-template-columns: repeat(auto-fill, minmax(240px, 1fr)); gap: 30px;
    }
    .product-card {
      border: 1px solid #eee; padding: 20px; text-align: center;
      transition: border-color 0.3s; cursor: pointer; 
      text-decoration: none; color: inherit; display: block;
    }
    .product-card:hover { border-color: #000; }
    
    .product-info { text-align: left; }
    .product-name { font-weight: 500; font-size: 16px; margin-bottom: 5px; }
    .product-meta { font-size: 12px; color: #888; margin-bottom: 15px; }
    .product-price { font-weight: 600; font-size: 15px; }

    .product-image {
      width: 100%;
      height: 250px;
      object-fit: cover;
      margin-bottom: 15px;
      background-color: #f4f4f4;
    }

    .product-actions-row {
        display:flex; justify-content:space-between; align-items:center; margin-top:10px;
    }
    .btn-card-add {
        width:auto; height:36px; padding:0 20px; margin:0;
    }

    /* --- MENU OVERLAY --- */
    .menu-overlay { 
      position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background: #fff; 
      display: flex; transform: translateX(-100%); 
      transition: transform 0.4s cubic-bezier(0.25, 1, 0.5, 1); z-index: 2000; 
    }
    .menu-overlay.open { transform: translateX(0); }
    
    .column { 
      min-width: 300px; width: 300px; height: 100%; border-right: 1px solid #f0f0f0; 
      overflow-y: auto; display: flex; flex-direction: column; padding-bottom:20px;
      opacity: 0; transform: translateX(20px); transition: opacity 0.3s ease, transform 0.3s ease; 
    }
    .column.visible { opacity: 1; transform: translateX(0); }
    #col-2, #col-3 { display: none; }

    .close-btn { padding: 20px; background: none; border: none; cursor: pointer; font-size: 24px; text-align: left;}
    .nav-item { 
      padding: 20px 25px; cursor: pointer; font-size: 15px; text-transform: uppercase; letter-spacing: 1px;
      display: flex; justify-content: space-between; align-items: center; transition: background 0.2s; 
      border-bottom: 1px solid #f9f9f9;
    }
    .nav-item:hover, .nav-item.active { background-color: #f0f0f0; font-weight: 600; }
    
    a.nav-item { text-decoration: none; color: inherit; display: block; }
    .chevron::after { content: '›'; font-size: 20px; color: #ccc; }
    .category-header { padding: 30px 20px; font-size: 24px; font-weight: 300; border-bottom: 1px solid #eee; background: #fafafa; }

    footer { margin-top: 80px; padding: 40px 20px; border-top: 1px solid #000; text-align: center; font-size: 12px; text-transform: uppercase; letter-spacing: 1px; }

    @media (max-width: 768px) {
      .menu-overlay { overflow-x: auto; scroll-snap-type: x mandatory; }
      .column { min-width: 85vw; border-right: 1px solid #eee; scroll-snap-align: start; }
      .hero-brand h1 { font-size: 36px; }
      .product-grid-display { grid-template-columns: 1fr; }
    }
  </style>
</head>
<body>

  <header>
    <div style="display:flex; gap:18px; align-items:center;">
      <button class="menu-trigger-btn" aria-label="Ouvrir le menu" onclick="toggleMenu()">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg>
      </button>
    </div>
    <div class="logo" onclick="window.scrollTo({top:0, behavior:'smooth'})">SIPAMO</div>
    <div style="display:flex; gap:15px;">
      <a href="#boutique" style="color:inherit"><svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"></path><line x1="3" y1="6" x2="21" y2="6"></line><path d="M16 10a4 4 0 0 1-8 0"></path></svg></a>
    </div>
  </header>

  <div class="container">
    
    <section class="hero-brand">
      <h1>Simplicité. Identité. Présence.</h1>
      <p>
        SIPAMO est une marque minimaliste née d’une vision : créer des pièces fortes,
        sobres et intemporelles. Rien de plus. Rien de trop.
      </p>
    </section>

    <section>
      <div class="philosophy-list">
        <div class="philosophy-item"><strong>Noir & Blanc</strong><span style="font-size:13px; color:#666">L'essence de l'élégance</span></div>
        <div class="philosophy-item"><strong>Lignes Pures</strong><span style="font-size:13px; color:#666">Sobriété et structure</span></div>
        <div class="philosophy-item"><strong>Tradition</strong><span style="font-size:13px; color:#666">Respect du savoir-faire</span></div>
        <div class="philosophy-item"><strong>Série Limitée</strong><span style="font-size:13px; color:#666">Exclusivité garantie</span></div>
      </div>
    </section>

    <section id="boutique">
      <h2>La Sélection</h2>
      
      <div class="product-grid-display">
      
        <a href="produit.html?titre=Tunique Traditionnelle&prix=18000&img=https://placehold.co/300x400/eeeeee/1a1a1a?text=Tunique" class="product-card">
          <img class="product-image" src="https://placehold.co/300x400/eeeeee/1a1a1a?text=Tunique" alt="Tunique" />
          <div class="product-info">
            <div class="product-name">Tunique Traditionnelle</div>
            <div class="product-meta">Coton fin • L, XL, XXL</div>
            <div class="product-actions-row">
              <span class="product-price">18 000 FCFA</span>
              <button class="btn-pill btn-card-add" onclick="event.preventDefault(); alert('Ajouté')">+</button>
            </div>
          </div>
        </a>

        <a href="produit.html?titre=Chemise Col Mao&prix=15000&img=https://placehold.co/300x400/eeeeee/1a1a1a?text=Chemise" class="product-card">
          <img class="product-image" src="https://placehold.co/300x400/eeeeee/1a1a1a?text=Chemise" alt="Chemise" />
          <div class="product-info">
            <div class="product-name">Chemise Col Mao</div>
            <div class="product-meta">Fait main • Noir</div>
            <div class="product-actions-row">
              <span class="product-price">15 000 FCFA</span>
              <button class="btn-pill btn-card-add" onclick="event.preventDefault(); alert('Ajouté')">+</button>
            </div>
          </div>
        </a>

        <a href="produit.html?titre=Jean Brut&prix=22000&img=https://placehold.co/300x400/eeeeee/1a1a1a?text=Jean" class="product-card">
          <img class="product-image" src="https://placehold.co/300x400/eeeeee/1a1a1a?text=Jean" alt="Jean" />
          <div class="product-info">
            <div class="product-name">Jean Brut</div>
            <div class="product-meta">Coupe droite • Denim</div>
            <div class="product-actions-row">
              <span class="product-price">22 000 FCFA</span>
              <button class="btn-pill btn-card-add" onclick="event.preventDefault(); alert('Ajouté')">+</button>
            </div>
          </div>
        </a>

      </div>
    </section>

    <div style="display:grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 40px;">
      <section id="rendezvous">
        <h2>Atelier</h2>
        <p style="color:#666; font-size:14px; margin-bottom:20px">Prenez rendez-vous pour une création sur mesure.</p>
        <form id="booking" onsubmit="handleBooking(event)">
          <input name="name" placeholder="Nom complet" required>
          <input name="phone" placeholder="Téléphone" required>
          <input type="date" name="date" required>
          <select name="time"><option>Matin (09:00 - 12:00)</option><option>Après-midi (14:00 - 18:00)</option></select>
          <button class="btn-pill" type="submit">Confirmer RDV</button>
        </form>
      </section>

      <section id="contact">
        <h2>Service Client</h2>
        <p style="color:#666; font-size:14px; margin-bottom:20px">Nous répondons à toutes les demandes sous 24h.</p>
        <form id="contact-form" onsubmit="handleContact(event)">
          <input id="cf-email" name="email" type="email" placeholder="Votre E-mail" required>
          <textarea id="cf-message" name="message" placeholder="Comment pouvons-nous vous aider ?" required style="min-height:120px"></textarea>
          <button class="btn-pill" type="submit">Envoyer</button>
          <div style="margin-top:15px; text-align:center; font-size:14px;">
             ou appelez le <a href="tel:+237620412921" style="color:#000; text-decoration:none; font-weight:600;">+237 620 41 29 21</a>
          </div>
        </form>
      </section>
    </div>
  </div>

  <div class="menu-overlay" id="mainMenu" aria-hidden="true">
    <div class="column visible" id="col-1">
      <button class="close-btn" aria-label="Fermer le menu" onclick="toggleMenu()">✕</button>
      <div style="padding:0;">
        <div id="btn-menu-nouveautes" class="nav-item chevron" onclick="loadCategory('nouveautes', this)">Nouveautés</div>
        <div id="btn-menu-homme" class="nav-item chevron" onclick="loadCategory('homme', this)">Homme</div>
        <div id="btn-menu-femme" class="nav-item chevron" onclick="loadCategory('femme', this)">Femme</div>
        <div id="btn-menu-traditionnel" class="nav-item chevron" onclick="loadCategory('traditionnel', this)">Traditionnel</div>
        <div id="btn-menu-accessoires" class="nav-item chevron" onclick="loadCategory('accessoires', this)">Accessoires</div>
      </div>
    </div>
    <div class="column" id="col-2"></div>
    <div class="column" id="col-3"></div>
  </div>

  <footer>
    <div style="font-weight:600; font-size:16px; margin-bottom:15px">SIPAMO</div>
    <div>© 2025 • Confection Camerounaise</div>
    <div style="margin-top:8px; color:#aaa; font-size:10px;">RC: CM-NSI-01-2025-B13-01359</div>
  </footer>

  <script>
    // URL générique pour les produits
    const baseImg = "https://placehold.co/300x400/eeeeee/1a1a1a?text=";

    // --- DONNÉES DU MENU ---
    const menuData = {
      "homme": {
        title: "COLLECTION HOMME",
        subcategories: [
          { 
            name: "Tuniques", 
            products: [
                { name: "Tunique Classique", price: "15 000", url: `produit.html?titre=Tunique Classique&prix=15000&img=${baseImg}Tunique+Classique` }, 
                { name: "Ensemble 3 Pièces", price: "45 000", url: `produit.html?titre=Ensemble 3 Pièces&prix=45000&img=${baseImg}Ensemble` }
            ] 
          },
          { 
            name: "Chemises", 
            products: [
                { name: "Chemise Col Mao", price: "12 000", url: `produit.html?titre=Chemise Col Mao&prix=12000&img=${baseImg}Chemise+Mao` }
            ] 
          }
        ]
      },
      "femme": {
        title: "UNIVERS FEMME",
        subcategories: [
          { name: "Robes", products: [{ name: "Robe Soie Noir", price: "25 000", url: `produit.html?titre=Robe Soie&prix=25000&img=${baseImg}Robe` }] },
          { name: "Ensembles", products: [{ name: "Tailleur Pagne", price: "30 000", url: `produit.html?titre=Tailleur Pagne&prix=30000&img=${baseImg}Tailleur` }] }
        ]
      },
      "nouveautes": {
        title: "TENDANCES",
        subcategories: [{ name: "Derniers Arrivages", products: [{name: "Veste Velours", price: "40 000", url: `produit.html?titre=Veste Velours&prix=40000&img=${baseImg}Veste` }]}]
      },
      "traditionnel": {
        title: "TRADITIONNEL",
        subcategories: [{ name: "Gandouras", products: [{name: "Gandoura Brodée", price: "35 000", url: `produit.html?titre=Gandoura&prix=35000&img=${baseImg}Gandoura` }]}]
      },
      "accessoires": {
        title: "ACCESSOIRES",
        subcategories: [{ name: "Cuir & Tissus", products: [{name: "Chapeau", price: "10 000", url: `produit.html?titre=Chapeau&prix=10000&img=${baseImg}Chapeau` }] }]
      }
    };

    // --- RESTAURATION DU MENU (Mémoire) ---
    window.addEventListener('load', () => {
        const params = new URLSearchParams(window.location.search);
        const restoreCat = params.get('restoreCat');
        const restoreSub = params.get('restoreSub');

        // Si on a des instructions de retour
        if (restoreCat && restoreSub) {
            // 1. Ouvrir le menu
            toggleMenu(); 

            // 2. Simuler le clic sur la Catégorie (Colonne 1)
            const catBtn = document.getElementById(`btn-menu-${restoreCat}`);
            if(catBtn) loadCategory(restoreCat, catBtn);

            // 3. Simuler le clic sur la Sous-catégorie (Colonne 2)
            const subBtn = document.getElementById(`btn-sub-${restoreCat}-${restoreSub}`);
            if(subBtn) loadProducts(restoreCat, restoreSub, subBtn);
        }
    });

    function toggleMenu() {
      const menu = document.getElementById('mainMenu');
      menu.classList.toggle('open');
      
      // Si on ferme le menu, on nettoie tout après un délai
      if (!menu.classList.contains('open')) {
        // Optionnel : On retire les paramètres de l'URL pour que le F5 ne rouvre pas le menu
        if (window.history.replaceState) {
            const urlWithoutParams = window.location.pathname;
            window.history.replaceState({}, document.title, urlWithoutParams);
        }

        setTimeout(() => {
          document.getElementById('col-2').style.display = 'none';
          document.getElementById('col-3').style.display = 'none';
          document.querySelectorAll('.nav-item').forEach(el => el.classList.remove('active'));
        }, 400);
      }
    }

    function loadCategory(key, element) {
      document.querySelectorAll('#col-1 .nav-item').forEach(el => el.classList.remove('active'));
      element.classList.add('active');
      const data = menuData[key];
      const col2 = document.getElementById('col-2');
      const col3 = document.getElementById('col-3');
      
      col3.style.display = 'none';
      col3.classList.remove('visible');

      if (!data) return;
      
      let htmlContent = `<div class="category-header">${data.title}</div>`;
      data.subcategories.forEach((sub, index) => {
        // ID unique crucial pour la restauration (btn-sub-homme-0)
        htmlContent += `<div id="btn-sub-${key}-${index}" class="nav-item chevron" onclick="loadProducts('${key}', ${index}, this)">${sub.name}</div>`;
      });
      
      col2.innerHTML = htmlContent;
      col2.style.display = 'flex';
      setTimeout(() => col2.classList.add('visible'), 10);
    }

    function loadProducts(parentKey, subIndex, element) {
      document.querySelectorAll('#col-2 .nav-item').forEach(el => el.classList.remove('active'));
      element.classList.add('active');
      
      const products = menuData[parentKey].subcategories[subIndex].products;
      const col3 = document.getElementById('col-3');
      
      let htmlContent = `<div class="category-header">ARTICLES</div>`;
      htmlContent += `<div style="padding:0;">`;
      
      if (!products || products.length === 0) {
        htmlContent += `<div style="padding:20px; color:#999;">Aucun produit disponible.</div>`;
      } else {
        products.forEach(prod => {
          let linkUrl = prod.url ? prod.url : '#';
          
          // --- AJOUT DU FIL D'ARIANE (CONTEXTE) ---
          // On ajoute navCat et navSub à l'URL pour que produit.html sache d'où on vient
          if(linkUrl.includes('?')) {
             linkUrl += `&navCat=${parentKey}&navSub=${subIndex}`;
          }
          
          htmlContent += `
            <a href="${linkUrl}" class="nav-item">
              <div style="font-weight:500">${prod.name}</div>
              <div style="font-size:12px; color:#666; margin-top:4px;">${prod.price} FCFA</div>
            </a>`;
        });
      }
      htmlContent += `</div>`;
      
      col3.innerHTML = htmlContent;
      col3.style.display = 'flex';
      setTimeout(() => col3.classList.add('visible'), 10);
    }

    function handleBooking(e){ e.preventDefault(); alert('Demande enregistrée.'); e.target.reset(); }
    function handleContact(e){ e.preventDefault(); alert('Message envoyé.'); e.target.reset(); }
  </script>
</body>
</html>